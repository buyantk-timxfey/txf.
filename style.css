/* ===== txf. — One-man studio: base theme ===== */
:root{
  --bg: #0b0d10;
  --fg: #ffffff;
  --muted: #a7b0bf;

  /* Подсветка кода */
  --c-tag:#7dd3fc;
  --c-attr:#a3e635;
  --c-str:#fca5a5;
  --c-punc:#94a3b8;
  --c-comm:#64748b;
  --c-angle:#60a5fa;

  /* Safe areas */
  --safe-b: env(safe-area-inset-bottom, 0px);
  --safe-t: env(safe-area-inset-top, 0px);
}

/* ===== Reset & base ===== */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family:"PT Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  -webkit-tap-highlight-color: rgba(255,255,255,0.08);
}

/* ===== Hero ===== */
.hero{
  position:relative;
  min-height:var(--vvh, 100svh); /* корректнее ведёт себя при мобильной клавиатуре */
  overflow:hidden;
  padding-top: var(--safe-t);
  padding-bottom: max(16px, var(--safe-b));
}

/* ===== Intro (левая половина на десктопе) ===== */
.intro{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  padding-left:8vw;
}
.phrase{
  font-size:clamp(28px,5vw,72px);
  line-height:1.05;
  letter-spacing:0.5px;
  text-wrap:balance;
  opacity:1; /* мгновенная смена через JS */
}
.no-transition * { transition:none !important }

/* ===== Coder stage ===== */
.coder{
  position:absolute;
  inset:0;
  display:grid;
  grid-template-columns: 1fr;
  place-items:stretch;
  background:var(--bg);
}
.hidden{ display:none }

.code{
  margin:0;
  padding:12vh 6vw 16vh;
  font-size:clamp(12px,1.4vw,18px);
  line-height:1.7;
  color:var(--muted);
  white-space:pre-wrap;
  overflow:hidden;
  user-select:none;
  -webkit-user-select:none;
  word-break:break-word;
}

/* ===== Brand in center ===== */
.brand{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  font-size:clamp(28px,5.5vw,96px);
  font-weight:400;
  color:#fff;              /* чисто белая */
  letter-spacing:0.5px;
  pointer-events:none;
  opacity:0;               /* появится мгновенно */
  transform:none;          /* без перекосов */
}
/* мгновенная «вспышка» как у интро-фраз */
.brand.pop-flash{
  opacity:1 !important;
  transform:none !important;
}

/* ===== Code token colors ===== */
.t-angle{ color:var(--c-angle) }
.t-tag{ color:var(--c-tag) }
.t-punc{ color:var(--c-punc) }
.t-attr{ color:var(--c-attr) }
.t-str{ color:var(--c-str) }
.t-comm{ color:var(--c-comm) }

/* ===== “Links” inside code (меню) ===== */
.code-link{
  text-decoration: underline dotted;
  cursor: pointer;
  padding: 2px 1px;
  border-radius:4px;
}
.code-link:hover,
.code-link:focus{
  outline: 2px solid currentColor;
  outline-offset: 2px;
  text-decoration: underline;
}

/* ===== Scroll arrow ===== */
.scroll-down{
  position:absolute;
  left:50%;
  bottom:calc(18px + var(--safe-b));
  translate:-50% 0;
  font-size:28px;
  text-decoration:none;
  color:#fff;
  opacity:0;
  animation:fade-in 320ms ease-out 1.1s forwards, bounce 1.8s ease-in-out 0.9s infinite;
  line-height:1;
  padding:6px 10px; /* удобнее тапать */
  border-radius:999px;
}

/* ===== Desktop layout tweak ===== */
@media (min-width: 900px){
  .code{ width:min(58vw,1000px); padding:8vh 6vw 14vh }
}

/* ===== Mobile layout ===== */
@media (max-width: 899px){
  .intro{
    justify-content:center;
    padding-left:0;
  }
  .phrase{
    font-size:clamp(24px, 8vw, 42px);
    text-align:center;
    padding:0 5vw;
  }
  .code{
    width:100%;
    padding:12vh 5vw 14vh; /* код начинается ниже */
    font-size:clamp(12px,3.4vw,16px);
  }
  .brand{
    font-size:clamp(22px, 6vw, 32px);
    padding:0 4vw;
    top:4vh;
    bottom:auto;
    align-items:flex-start;
    justify-content:center;
    flex-direction: row;   /* ← ставим текст в ряд */
    white-space: nowrap;   /* ← не даём переноситься */
    text-align: center;
  }
}
  .brand.pop-flash{
    opacity:1 !important;
    transform:none !important;
  }
}


/* ===== Short landscape phones ===== */
@media (max-height:560px){
  .code{ padding:8vh 5vw 12vh }
  .brand{ font-size:clamp(22px,7vw,44px) }
  .scroll-down{ bottom:calc(8px + var(--safe-b)) }
}

/* ===== Animations ===== */
@keyframes bounce{
  0%,100%{ transform:translateY(0) }
  50%{ transform:translateY(-8px) }
}
@keyframes fade-in{
  from{ opacity:0 }
  to{ opacity:1 }
}

/* ===== Next sections ===== */
.about{
  min-height:80svh;
  padding:12vh 8vw 18vh;
  background:#0f1217;
}
.about h2{
  margin:0 0 1rem 0;
  font-size:clamp(22px,3.2vw,40px);
}
